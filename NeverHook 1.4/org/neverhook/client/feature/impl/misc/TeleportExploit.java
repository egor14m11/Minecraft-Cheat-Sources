/*    */ package org.neverhook.client.feature.impl.misc;
/*    */ 
/*    */ import java.util.ArrayList;
/*    */ import net.minecraft.entity.Entity;
/*    */ import net.minecraft.init.Blocks;
/*    */ import net.minecraft.network.Packet;
/*    */ import net.minecraft.network.play.client.CPacketPlayer;
/*    */ import net.minecraft.tileentity.TileEntity;
/*    */ import net.minecraft.util.math.BlockPos;
/*    */ import org.neverhook.client.event.EventTarget;
/*    */ import org.neverhook.client.event.events.impl.player.EventPreMotion;
/*    */ import org.neverhook.client.event.events.impl.player.EventUpdate;
/*    */ import org.neverhook.client.feature.Feature;
/*    */ import org.neverhook.client.feature.impl.Type;
/*    */ import org.neverhook.client.helpers.misc.ChatHelper;
/*    */ import org.neverhook.client.settings.Setting;
/*    */ import org.neverhook.client.settings.impl.BooleanSetting;
/*    */ import org.neverhook.client.settings.impl.NumberSetting;
/*    */ 
/*    */ public class TeleportExploit extends Feature {
/*    */   private final BooleanSetting motionYZero;
/*    */   private final BooleanSetting bedTeleport;
/*    */   private final NumberSetting motionReduce;
/* 24 */   private final ArrayList<TileEntity> entityList = new ArrayList<>();
/*    */   
/*    */   public TeleportExploit() {
/* 27 */     super("TeleportExploit", "Позволяет телепортироваться на старую позицию при нажатии на шифт или выключении", Type.Movement);
/* 28 */     this.bedTeleport = new BooleanSetting("Bed Teleport", false, () -> Boolean.valueOf(true));
/* 29 */     this.motionReduce = new NumberSetting("Motion Reduce", 1.0F, 0.1F, 1.0F, 0.1F, () -> Boolean.valueOf(true));
/* 30 */     this.motionYZero = new BooleanSetting("Motion Y Zero", false, () -> Boolean.valueOf(true));
/* 31 */     addSettings(new Setting[] { (Setting)this.bedTeleport, (Setting)this.motionYZero, (Setting)this.motionReduce });
/*    */   }
/*    */ 
/*    */   
/*    */   public void onEnable() {
/* 36 */     int x = mc.player.getPosition().getX();
/* 37 */     int y = mc.player.getPosition().getY();
/* 38 */     int z = mc.player.getPosition().getZ();
/* 39 */     setSuffix("X: " + x + " Y: " + y + " Z: " + z);
/* 40 */     ChatHelper.addChatMessage("Точка была поставлена на: X: " + x + " Y: " + y + " Z: " + z);
/* 41 */     ChatHelper.addChatMessage("Зажмите шифт, что бы телепортировать вас на старую позицию");
/* 42 */     super.onEnable();
/*    */   }
/*    */   
/*    */   @EventTarget
/*    */   public void onPreMotion(EventPreMotion event) {
/* 47 */     event.setOnGround(false);
/* 48 */     mc.player.motionX *= this.motionReduce.getNumberValue();
/* 49 */     mc.player.motionZ *= this.motionReduce.getNumberValue();
/* 50 */     if (this.motionYZero.getBoolValue()) {
/* 51 */       mc.player.setSprinting(true);
/* 52 */       if (mc.world.getBlockState((new BlockPos((Entity)mc.player)).add(0.2D, -1.0D, -0.2D)).getBlock() != Blocks.AIR) {
/* 53 */         if (!mc.gameSettings.keyBindJump.isKeyDown()) {
/* 54 */           mc.player.motionY = 0.0D;
/*    */         } else {
/* 56 */           mc.player.motionY -= 0.01D;
/*    */         } 
/*    */       } else {
/* 59 */         mc.player.motionY--;
/*    */       } 
/*    */     } else {
/* 62 */       mc.player.setSprinting(false);
/*    */     } 
/* 64 */     if (!mc.player.isSneaking()) {
/*    */       return;
/*    */     }
/* 67 */     if (mc.player.ticksExisted % 5 == 0) {
/* 68 */       ChatHelper.addChatMessage("Отправляем вас на старую позицию");
/*    */     }
/* 70 */     if (mc.player.onGround) {
/* 71 */       mc.player.jump();
/*    */     }
/* 73 */     mc.player.connection.sendPacket((Packet)new CPacketPlayer.Position(mc.player.posX, 1.0D, mc.player.posZ, true));
/*    */   }
/*    */   
/*    */   @EventTarget
/*    */   public void onUpdate(EventUpdate event) {
/* 78 */     if (this.bedTeleport.getBoolValue()) {
/* 79 */       for (TileEntity entity : mc.world.loadedTileEntityList) {
/* 80 */         if (entity == null)
/*    */           continue; 
/* 82 */         if (entity instanceof net.minecraft.tileentity.TileEntityBed) {
/* 83 */           if (mc.player.getDistanceToTileEntity(entity) < 20.0F) {
/* 84 */             this.entityList.add(entity);
/*    */           }
/* 86 */           if (mc.player.isSpectator() && 
/* 87 */             !this.entityList.contains(entity)) {
/* 88 */             mc.player.setPosition((entity.getPos().getX() + 1), (entity.getPos().getY() + 1), entity.getPos().getZ());
/*    */           }
/*    */         } 
/*    */       } 
/*    */     }
/*    */   }
/*    */ 
/*    */ 
/*    */   
/*    */   public void onDisable() {
/* 98 */     mc.player.connection.sendPacket((Packet)new CPacketPlayer.Position(mc.player.posX, mc.player.posY + 5.0D, mc.player.posZ, true));
/* 99 */     super.onDisable();
/*    */   }
/*    */ }


/* Location:              C:\Users\Admin\OneDrive\Рабочий стол\NeverHook Crack.jar!\org\neverhook\client\feature\impl\misc\TeleportExploit.class
 * Java compiler version: 8 (52.0)
 * JD-Core Version:       1.1.3
 */