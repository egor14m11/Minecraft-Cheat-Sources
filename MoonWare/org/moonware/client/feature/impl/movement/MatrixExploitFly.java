package org.moonware.client.feature.impl.movement;

import net.minecraft.client.Minecraft;
import net.minecraft.network.play.client.CPacketEntityAction;
import net.minecraft.world.GameType;
import org.moonware.client.feature.Feature;
import org.moonware.client.feature.impl.Type;

public class MatrixExploitFly extends Feature {
    private int tick;
    private int tick2;
    public MatrixExploitFly() {
        super("MatrixExploitFly", "Новый, очень быстрый флай под матрикс", Type.Movement);
    }

    public void OnEnable() {
        onEnable();
        tick = 0;
        tick2 = 2;
        /*
        FindItemResult r = InvUtils.find(Items.ELYTRA);
        if (!r.found()) {
            settings.error("Elytra not found");
            settings.toggle();
        }

         */
    }
    public void onDisable() {
        if (!Minecraft.player.isSpectator()) {
            Minecraft.player.capabilities.isFlying = false;
            Minecraft.player.capabilities.setFlySpeed(0.05f);
            if (Minecraft.playerController.getCurrentGameType() == GameType.CREATIVE) return;
            Minecraft.player.capabilities.allowFlying = false;
        }
    }

    public void startFly() {
        Minecraft.player.connection.sendPacket(new CPacketEntityAction(Minecraft.player, CPacketEntityAction.Action.START_FALL_FLYING));
    }


}
