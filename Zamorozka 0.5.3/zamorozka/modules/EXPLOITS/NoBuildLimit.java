package zamorozka.modules.EXPLOITS;

import net.minecraft.network.play.client.CPacketPlayerTryUseItemOnBlock;
import net.minecraft.util.EnumFacing;
import zamorozka.event.EventTarget;
import zamorozka.event.events.EventReceivePacket;
import zamorozka.module.Category;
import zamorozka.module.Module;

public class NoBuildLimit extends Module {

	public NoBuildLimit() {
		super("NoBuildLimit", 0, Category.Exploits);
	}
	
	@EventTarget
	public void receivePacket(EventReceivePacket event) {
		if(event.getPacket() instanceof CPacketPlayerTryUseItemOnBlock) {
            final CPacketPlayerTryUseItemOnBlock packet = (CPacketPlayerTryUseItemOnBlock) event.getPacket();
            if(packet.getPos().getY() >= 255 && packet.getDirection() == EnumFacing.UP) {
                packet.placedBlockDirection = EnumFacing.DOWN;
            }
        }
    }
}